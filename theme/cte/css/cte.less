// Mixin itself
.clearfix() {
  &:before,
  &:after {
    content: " ";
    display: table;
  }
  &:after {
    clear: both;
  }
}

.ellipsis(@number,@line-height:1.4em){
  overflow: hidden;
  position: relative;
  max-height: (@number*@line-height); /*display ellipsis after 5 lines*/
  &:before {
  bottom: 0;
  position: absolute;
  right: 0;
  content: '...';
}
	&:after {
  content: '';
  position: absolute;
  height: 50px;
  width: 100%;
  z-index: 1;
}
}



.uparrow() {
    &:after{
    font-family:'FontAwesome';
    content:'\f077';
	float: right;
	text-transform: none;
    }
}
.downarrow() {
    &:after{
    font-family:'FontAwesome';
    content:'\f078';
	float: right;
	text-transform: none;
    }
}


@import url(http://fonts.googleapis.com/css?family=Merriweather:400,400italic);
@import url(http://fonts.googleapis.com/css?family=Montserrat);
body{font-size:16px; min-height:100%; line-height: 1.4em }
html,body{font-family: 'Merriweather','Arimo', "Helvetica Neue",Helvetica,Arial,sans-serif; height: 100%; overflow: auto;background-color:@beigeCCN;}
.container-fluid{overflow-x:hidden;}
.container-fluid{padding:0}
.container.page{min-height: 80vh; margin-top:50px}
.glyphicon-list-alt{z-index:9999}
/*TYPO*/
h1{font-weight: bold; font-size:24px}
@media screen and (min-width: @min_xs) and (max-width:@min_sm){h1{font-size: 32px}}
@media screen and (min-width: @min_sm){h1{font-size: 48px}}
h2{font-weight: bold}
h3{font-size:28px;font-weight: bold; line-height: 1.25em;}
h4{font-weight: bold;font-size: 20px; margin:0; margin-bottom: 5px}
@media screen and (min-width: @min_md) and (max-width: @min_lg){h3{font-size:24px}}
p{color:@txt_dark; font-size:16px}
label{font-weight: normal}
.capital, .text-article .capital, .capital p, .text-article .capital p{font-family: 'Montserrat','Arimo', "Helvetica Neue",Helvetica,Arial,sans-serif; text-transform: uppercase; letter-spacing: 2px; font-size:14px; font-weight: normal}
.capital2{font-family: 'Montserrat','Arimo', "Helvetica Neue",Helvetica,Arial,sans-serif; text-transform: uppercase; letter-spacing: 2px; font-size:10px !important; font-weight: normal; margin-bottom: 0}
/*code Nicolas*/
/*site communauté*/
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12{min-height:0.1px}


a,a:hover, a:active{text-decoration: none; color:@txt_dark}
p a:hover, p a:active{background-color:white}
input:focus{outline: 0; border-color:transparent; box-shadow:0}
.media-body{min-width:200px}
.col-sm-6:after{.clearfix}
@media screen and (max-width: @min_xs){
    [class*="col-xs-"]{width:100%;}
     [class*="col-xs-pull-"]{right:0;}
     [class*="col-xs-push-"]{left:0;}
}
@media screen and (min-width: @min_xs) and (max-width: @min_sm){
    .container{width:@width_xxs}
}
.img_full img{width:100%}
.padding-right{padding-right:24px}
.padding-top{padding-top:24px}
@media screen and (min-width: @min_xs){
    .no-padding{padding: 0}
}
////////////////////////////////////////////////
    ///////global variables////////////////
////////////////////////////////////////////////
@width_xxs:420px;
@min_xs:500px;
@min_sm:768px;
@min_md:992px;
@min_lg:1200px;
@rouge:#c1573c;//rouge brique
@rouge_shadow:#9e4232; // rouge brique sombre
@txt_dark:#2e2c29;// couleur texte
@beigeCCN:#f3eeea; // beige fond
@marron:#d5c5b5 ; // beige plus sombre
@rencontre:#7d77bf; //violet rencontres
@lieux:#fbbd58; //jaune lieux communautaires
@evenement:#f96847; //orange propositions;
.txt-red{color:@rouge}
.txt-marron{color:@marron}
.txt-rencontre{color:@rencontre}
.txt-lieux{color:@lieux}
.txt-evenement{color:@evenement}
::selection {
  background: @rouge; color:white/* WebKit/Blink Browsers */
}
::selection {
  background: @rouge; color:white /* Gecko Browsers */
}

span.glyphicon{margin: 0 5px; vertical-align: middle}
.var-narrow .tweet{padding:12px !important}


////////////////////////////////////////////////////
    ///////////MENU///////////////////
///////////////////////////////////////////////////
.header{ margin:15px 0}
.navbar-fixed-top{width:300px; left:auto}
.navbar-fixed-top.displayed{width:100%; left:0}
@media screen and (min-width: @min_xs) and (max-width: @min_sm){
}
ul.navbar-right{height:40px; float: right; font-size: 0; width: 100%}
nav.navbar-fixed-top li{
    background: @rouge;
    color:white;
    a{color:white}
    .capital;
    width:33.333%;
    height:40px;
    line-height: 40px;
    border-left:2px solid @beigeCCN;
    border-bottom:2px solid @beigeCCN;
    text-align: center;
    font-size: 12px;
    z-index: 2;
    display: inline-block;
    padding: 0 5px;
    span{line-height: 1.2em;display: inline-block;vertical-align: middle }
}
nav.navbar-fixed-top li:first-of-type{border-left:none}

.searchbar{
    width:100%; height: 50px;
    opacity:0;
    position: relative;
    transition: all 0.5s ease;
    -webkit-transition: all 0.5s ease;
    form{width:100%;height:100%;}
    input{border:0;height: 50px;}
    button{border:0;height: 50px;}
    z-index: 0;
    margin-top:-40px;
}
.menu .container{
    margin-top:-1000px;
    margin-top:-200vh;
    transition: all 0.5s ease;
    -webkit-transition: all 0.5s ease;
    position:relative; 
    -webkit-transform: translate3d(0, 0, 0);
}
.searchbar.displayed{opacity:1;margin-top:0}
 .displayed>.menu .container{opacity:1;margin-top:0;}
  .menu +div{width:100%;top:0;left:0;position:relative;z-index:2;-webkit-transform: translate3d(0, 0, 0);}
 @media screen and (max-width: @min_xs) {
    nav.navbar-fixed-top{position:relative;width: 100%; }
 }
 @media screen and (min-width: @min_xs) {
    nav.navbar-fixed-top li{width:100px}
    ul.navbar-right{width:auto;float:right}
    nav .container-fluid{padding-right:15px}
    .searchbar>div{width:300px; float: right}
 }
 @media screen and (max-width: @min_sm) {
    .navbar-nav{margin:0}
    nav .container-fluid{padding-right:0}
 }
 
////////////////////////////////////////////////////
    ///////////FOOTER///////////////////
///////////////////////////////////////////////////
.footer{background-color:@txt_dark; color:white; a,p{color:white; display: inline-block};font-size:14px}
.footer div.container{padding:24px}
.footer {
    a{transition: color 0.3s ease}
    div.dons a{background-color:white; color:@rouge;font-size: 1.5em;font-weight: bold; height: 80px; line-height: 80px; text-align: center; margin:0; padding: 0 12px; span{vertical-align: middle;display: inline-block;line-height: 1.2em;}}
    .capital{width:100%; padding-top:6px; border-top:1px solid white; margin-bottom:12px}
    .capital +.capital{margin-top:12px}
    a.dons{width:100%; text-align: center; padding:12px 0; background: @rouge; color:white}
    a.dons:first-of-type{border-bottom:3px solid white}
    a:last-of-type{margin-bottom:24px}
}
.footer:last-of-type .container{border-top:1px solid white; padding-top:12px; .capital{border:none; text-align: center; font-size:10px !important}}
.footer a:hover{color:@rouge}
@media screen and (max-width: @min_xs){.footer{text-align: center}}
@media screen and (min-width: @min_sm) {.carousel-caption{width:300px;height:100%;margin-left:420px}}
@media screen and (min-width: @min_md) { .carousel-caption{width:300px;height:100%;margin-left:640px}}
@media screen and (min-width: @min_lg) {.carousel-caption{width:300px;height:100%;margin-left:840px }}
////////////////////////////////////////////////////
    ///////////ACTUS///////////////////
///////////////////////////////////////////////////
.content_border{border:solid 8px @rouge; margin-top:-40px}
.header_link{color:@rouge; padding:15px;.capital; position: relative; z-index: 1031; display: block; text-align: center}
.header_link:hover{color:@rouge}
.header_link:before{
    content:'\2190'; 
 }
.text-article{margin:0 auto; max-width:640px; padding:0 ; p{font-size:16px; line-height: 1.6em; margin-bottom:20px} text-align: justify}
.text-article span+span.tags:after{content:','; margin-right:5px} // virgule après un tag 
header .text-article h1, header .text-article p{text-shadow: 2.5px 2.5px 2.5px rgba(0,0,0,0.33);}
.text-article p img {max-width:70%; height:auto !important; margin:20px auto; display: block}
blockquote {
 .capital;
 color: @rouge;
 margin: 30px auto;
 width:70%;
 border-top:5px solid white;
 border-bottom:5px solid white;
 border-left:none;
}
.text-article blockquote p{.capital;.txt-red; text-align: center}
@media screen and (max-width:@min_xs){
  .text-article{text-align:left}
}
@media screen and (min-width:@min_xs){.content_border{margin-top:0px}}
@media screen and (min-width:@min_sm){
  .text-article p{font-size:18px; line-height: 1.7}
  .header_link{float:left}
  .text-article p img {max-width:100%;}
  }
@media screen and (min-width:@min_md){.text-article{max-width:680px}}
@media screen and (min-width:@min_lg){blockquote{width:50%; float:right; position: relative; left:20%; margin-left:-17.5%}}
@media screen and (min-width:@min_xs) and (max-width:@min_sm){.header_link{margin-top:33px}}
.media.media2 {text-align: center; .border-bottom; margin-bottom:-2px; img{padding-bottom: 12px; display: inline; width:140px}} // liste de contenus de 2 élements par ligne
.media.media4{text-align: center} // liste de contenus de 4 éléments en ligne sur lg
@media screen and (min-width:@min_sm) {
  .media.media2 {text-align: left; border-bottom:none}
  .media.media2 img{float:left;.padding-right; padding-bottom: 0; display: block; width:auto}
  .media.media4{text-align: left}
}
@media screen and (max-width:@min_sm){
  .ratio_321{position:relative; width:100%; overflow:hidden; }
  .ratio_321:before{
    content: "";
    display: block;
    padding-top: 50%; 	/* initial ratio of 3:1*/
  }
  .ratio_321>img{
    position:  absolute;
    top: -50%;
    left: 0;
    bottom: -50%;
    right: 0;
    width:100%;
    padding-right: 0;
  }
  .ratio_321 ~ div{padding:12px; background: white}
  .summary{.ellipsis(5)}
}

@media screen and (min-width:@min_xs) and (max-width:@min_sm) {.ratio_321:before{padding-top:33.333%;}}
@media screen and (min-width:@min_sm){.ratio_321>img{width:160px}}
////////////////////////////////////////////////////
    ///////////CAROUSEL///////////////////
///////////////////////////////////////////////////
.carousel-caption{text-align:left;background-color:#2f2e2a;opacity:1; h3{border-bottom:1px solid white; padding-bottom:12px;margin-top:0};p{color:white}}
.carousel-caption{padding:24px}
.carousel-caption p{
  .ellipsis(5);
}
.owl-theme .owl-controls{position:absolute;right:0;margin-top:-30px;margin-right:10px;}
.owl-theme .owl-controls .owl-page span{background:white;opacity:0.75}
.owl-theme .owl-controls .owl-page.active span{background:@rouge}
@media screen and (max-width:500px){.img-responsive.carousel-img{max-width:none; height: 200px; width:auto}}
@media screen and(max-width: @min_sm) {.carousel-caption{position:relative; height:250px}}

////////////////////////////////////////////////////
    ///////////SEARCH RESULTS///////////////////
///////////////////////////////////////////////////
.media{padding:24px 0;}
.panel-heading.actus.no-arrow{background-color:@rouge; color:white;border-radius: 0;text-align: center;.capital; }
.panel-heading.actus:not(.no-arrow){background-color:@rouge; color:white;border-radius: 0;text-align: center;.capital; .uparrow()}
.panel-heading.actus.panel-hidden{.downarrow()}
.panel-heading.actus.panel-hidden + .panel-body{display:block; padding:0}
.panel-heading.actus + .panel-body{display:none; padding:0}
.panel-heading.actus.visible-xs-block{background: @rouge_shadow}
.search-result {
    p.capital{margin-bottom:0}
    h3{margin-top:10px}
    padding-bottom:24px;
    .clearfix();
}
.geo-search .search-result{padding:12px; background-color:white; border-bottom:solid 1px @marron;}
.search-tags .search-result{padding:12px 0;padding-left: 12px;  border-bottom:solid 1px @marron;  }
.search-tags .search-result.checked, .search-tags .search-result:hover{background-color:@marron; color:white}
@media screen and (min-width: @min_sm) {
  .search-result{border-bottom:solid 1px @marron;padding:24px 0;}
}
@media screen and (max-width: @min_sm) {
    .panel-heading.actus.panel-hidden + .panel-body{display:none; padding:0}
    .panel-heading.actus + .panel-body{display:block; padding:0}
    
}

.border-top{border-top:solid 2px @marron; margin-top:0;}
.border-top-red{border-top:solid 1px @rouge; margin-top:0;}
.row.border-bottom{padding-top:24px}
.border-bottom{border-bottom:solid 2px @marron; margin-bottom:0; padding-bottom: 24px}
.query-actus{float:right; margin-top:-36px; margin-bottom:0; width:250px}
@media screen and(max-width: @min_sm) {.query-actus{margin-top:12px}}
.tags, .tags p{color:@marron}
.search-video{
    float:right;
    width:60%;
}
.panel-body ul{padding-left:0; list-style-type: none;}
.site-link{.capital; position: relative; padding-bottom:24px;top:12px}
////////////////////////////////////////////////////
    ///////////PLAYER///////////////////
///////////////////////////////////////////////////
.jwlogo{display: none}
 .jwplayer .jwpreview.jwuniform{background-size: cover!important}
////////////////////////////////////////////////////
    ///////////GOOGLE MAPS///////////////////
///////////////////////////////////////////////////
.rubedo-gmapitem{min-height:0px}
.rubedo-gmapitem>div{padding:12px 0; border-bottom:solid 1px #d5c5b5}
.rubedo-gmapitem>div:last-of-type{border-bottom:none}
.map-container{width:100%; height:350px;}
.full_page{height:auto }
@media screen and (min-width:@min_sm){.full_page{height: 100%; height:100vh;}.map-container{height:100%}}
.full_page > div, .full_page >div > div.row{height:100%; }
.full_page >div div[class*="col-"]{overflow-y: scroll; overflow-x: hidden}
.geo-tags, .geo-search{padding-right: 15px;padding-left:40px; }
.cluster img{width:100%}
.geo-tags{
  background: @rouge; padding-top:50px; 
  .form-control,.btn{border:none}
}
@media screen and (min-width:@min_sm) {.geo-tags, .geo-search{padding-left:25px}}
@media screen and (min-width:@min_lg) {.geo-tags, .geo-search{padding-left:15px}.full_page >div div[class*="col-"]{height:100%}}
@media screen and (max-width:@min_sm) {.geo-tags{ padding-top: 0}}
.rubedo-places-search{
  display: inline-block;
  background: transparent;
  color:white;
  text-decoration: underline;
  border:none;
  box-shadow: none;
  width:auto;
  position: relative;
  padding-left:5px; 
}
.rubedo-places-search::-webkit-input-placeholder {color: white; text-decoration: underline}
.rubedo-places-search:-moz-placeholder { /* Firefox 18- */   color: white; text-decoration: underline  }
.rubedo-places-search::-moz-placeholder {  /* Firefox 19+ */   color: white; text-decoration: underline }
.rubedo-places-search:-ms-input-placeholder {     color: white; text-decoration: underline  }
.rubedo-places-search:focus{background: white;color:@rouge}
.panel-geo{
  border:none;
  background: none;
  .panel-heading{background: @rouge_shadow; border: none} }
  li.tags{
    display: inline-block;
    width:auto;
    .capital2;
    border-radius: 22px;
    border:2px solid @rouge_shadow;
    color:@rouge_shadow;
    padding:0 5px;
    cursor: pointer;
    margin-bottom:4px;
  }
  li.tags:after{display: inline-block; content:"+"; font-weight: bold; font-size: 1.5em; line-height: 0.8em;vertical-align: middle}
  li.tags.checked, li.tags:hover{background: white; color:@txt_dark;}
  li.tags.checked:after, li.tags:hover:after{transform:rotate(45deg);}
  
  // do not show advanced search on smartphones
   #advanced-search{display:none}
  #advanced-search.displayed{display: block;}
  @media screen and (min-width:@min_sm){ #advanced-search.displayed{display: none;} #advanced-search{display:block}}
  
.resultData input+span{color:white; margin-left: 5px; font-size: 14px}
////////////////////////////////////////////////////
    ///////////FOI///////////////////
///////////////////////////////////////////////////
.sommaire a{text-decoration: underline;}
/*.sommaire a:after{content:'↗'; width:14px; height:14px; background-color:@rouge; border-radius:1px; margin-left:5px;display: inline-block; text-decoration: none; color:white; line-height: 16px}*/
.sommaire a:after{
    content: "\f14c";
    font-family: 'FontAwesome'; color:@rouge;
     margin-left:5px;display: inline-block;font-size: 0.8em}
p.red-sub{.capital; font-size:11px !important; .txt-red; margin-bottom: 24px}


.sommaire {
    -moz-column-count:2;
   -webkit-column-count:2;
   -o-column-count:2;
   column-count:2;
   -moz-column-gap:20px;
   -webkit-column-gap:20px;
   -o-column-gap:20px;
   column-gap:20px;    
}
@media screen and (max-width:@min_sm){
  .sommaire{
     -moz-column-count:1;
   -webkit-column-count:1;
   -o-column-count:1;
   column-count:1;
 }}
.sommaire p{margin-bottom:0}
.sommaire p+p.red-sub{margin-bottom:24px}
.homelink{
    background: @rouge;
     padding:12px;
    a{.capital;color:white;}
    span{font-size: 0.8em; margin-right:5px}
}
.button{
    min-width:300px;
    padding:12px;
    text-align: center;
    .capital;
    display: block;
    margin-top:12px;
    transition: 0.3s ease opacity;
 }
 .button:hover{opacity:0.8;}
.button.rouge{background: @rouge;
    color:white}

    ////////////////////////////////////////////////////
    ///////////LISTE///////////////////
///////////////////////////////////////////////////
.prev-page a, .next-page a{width:30px; height: 30px; border-radius: 30px; background:@txt_dark; color:white; padding:6px}
.prev-page{position:absolute; left:0; top:42%}
.next-page{position:absolute; right:0; top:42%}

////////////////////////////////////////////////////
    ///////////CONTENUS///////////////////
///////////////////////////////////////////////////
header.content{
    background: no-repeat center center;
    background-attachment: scroll;
    background-size: cover;
    h1,p{color:white};
    height:320px;
    box-shadow:inset 0 0 0 1000px rgba(84,84,84,.33);
    margin-bottom:24px;
    line-height: 320px;
    text-align: center;
}
header.content>div{line-height: normal;display: inline-block;text-align:center; vertical-align: middle;}
@media screen and (min-width: @min_sm) {
    header.content{line-height: 400px; height:400px}
    header.content>div{text-align: left; vertical-align: bottom; padding-bottom: 24px}
}
.socials {font-size:30px; width: 100%;text-align: center}
@media  screen and(min-width:@min_sm) {.socials{text-align:right; width:auto}}