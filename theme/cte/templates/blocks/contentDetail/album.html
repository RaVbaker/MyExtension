
<link rel="stylesheet" href="//blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
	<!-- The Bootstrap Image Gallery lightbox, should be a child element of the document body -->
<style>
	.modal-content
.modal .prev,
.modal .next {
  position: absolute;
  top: 50%;
  left: 15px;
  width: 40px;
  height: 40px;
  margin-top: -23px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 60px;
  font-weight: 100;
  line-height: 30px;
  color: #fff;
  text-decoration: none;
  text-shadow: 0 0 2px #000;
  text-align: center;
  background: #222;
  background: rgba(0, 0, 0, 0.5);
  -webkit-box-sizing: content-box;
     -moz-box-sizing: content-box;
          box-sizing: content-box;
  border: 3px solid #fff;
  -webkit-border-radius: 23px;
     -moz-border-radius: 23px;
          border-radius: 23px;
  opacity: 0.5;
  cursor: pointer;
}
.modal  .next {
  left: auto;
  right: 15px;
}
.modal  .close {
  position: absolute;
  top: 15px;
  left: 15px;
  margin: 0 40px 0 0;
  font-size: 20px;
  line-height: 30px;
  color: #fff;
  text-shadow: 0 0 2px #000;
  opacity: 0.8;
  display: none;
}
.modal .close {
  padding: 15px;
  right: 15px;
  left: auto;
  margin: -15px;
  font-size: 30px;
  text-decoration: none;
  cursor: pointer;
}
.modal .prev:hover,
.modal .next:hover,
.modal .close:hover,
.modal .title:hover {
  color: #fff;
  opacity: 1;
}	
.modal .modal-body {
	position: relative;
	text-align: center;
	padding: 0 0 56.25% 0;
	overflow: hidden;
	cursor: pointer;
}
.modal .modal-footer {
	margin: 0;
}
.modal .modal-body img {
	max-width: 100%;
	max-height: 100%;
	margin: auto;
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
}
.modal{background-color:black}
@media screen and (min-width: 768px) {
  .modal .modal-dialog {
    right: auto;
    left: auto;
	width: auto;
    max-width: 1200px;
    padding-left: 5%;
    padding-right: 5%;
  }
}
.grid{max-width:1200px; margin: 0 auto; display: block}
/* fluid 5 columns */
.masonry-brick { width: 23%;margin-bottom: 5px; cursor: pointer}
@media screen and (max-width: 768px) {.grid-sizer,
.masonry-brick { width: 49%; }}
.gutter-sizer{width:5px}
</style>

<header class="container-fluid" style="margin-bottom: 48px">
	<div class="text-article container">
		<p class='capital txt-red' style="text-shadow: none">{{contentDetailCtrl.content.fields.date*1000 | date:'longDate'}}</p>
		<div field = "{{contentDetailCtrl.getFieldByName('text')}}" >
			<h1 class="text-left" ng-if="!fieldEditMode" style="text-shadow: none">{{fieldEntity['text']}}</h1>
			<h1 ng-if="fieldEditMode"
			   ng-controller="RTEFieldController as rteFieldCtrl"
			   ckeditor="editorOptions"
			   contenteditable="true"
			   ready="setCKEIsReady()"
			   ng-model="fieldEntity['text']"
			   output-plain-text="true"
			   ng-bind-html="rteFieldCtrl.html">
			</h1>
		</div>
		<rubedo-field field = "{{contentDetailCtrl.getFieldByName('description')}}" ></rubedo-field>

	</div>
</header>




<div class="grid" masonry masonry-options="{ gutter: '.gutter-sizer',percentPosition: true }" reload-on-resize>
	<div class="masonry-brick" ng-repeat="image in contentDetailCtrl.content.images" data-toggle="modal" data-target="#rubedoGalleryDetailModal" ng-click="contentDetailCtrl.loadModal($index)" >
	    <img ng-src="{{rubedo.imageUrl.getUrlByMediaId(image.id,{width:'300px',mode:'boxed'})}}" class="img-responsive"/>
	</div>
	<div class="gutter-sizer"></div>
</div>

<!-- The modal dialog, which will be used to wrap the lightbox content -->
<div class="modal fade" id="rubedoGalleryDetailModal">
    <a class="prev" ng-click="contentDetailCtrl.changeImage('right')">‹</a>
    <a class="next" ng-click="contentDetailCtrl.changeImage('left')">›</a>
    <a class="close">×</a>
    <div class="modal-dialog modal-lg">
	    <!--<div class="">
		<button type="button" class="close" aria-hidden="true">&times;</button>
		<h4 class="modal-title"></h4>
	    </div>-->
	    <div class="modal-body">
		<img class="img-responsive" ng-src="{{rubedo.imageUrl.getUrlByMediaId(contentDetailCtrl.currentImage.id,{width:'1000px',mode:'boxed'})}}"
		     ng-attr-alt="{{contentDetailCtrl.currentImage.title}}" ng-attr-title="{{contentDetailCtrl.currentImage.title}}"></div>
	    <!--<div class="modal-footer">
		<button type="button" class="btn btn-default pull-left prev">
		    <i class="glyphicon glyphicon-chevron-left"></i>
		    Previous
		</button>
		<button type="button" class="btn btn-primary next">
		    Next
		    <i class="glyphicon glyphicon-chevron-right"></i>
		</button>
	    </div>-->
    </div>
</div>


