
<link rel="stylesheet" href="//blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
	<!-- The Bootstrap Image Gallery lightbox, should be a child element of the document body -->
<style>
	
.modal .modal-body {
	position: relative;
	text-align: center;
	padding: 0 0 56.25% 0;
	overflow: hidden;
	cursor: pointer;
}
.modal .modal-footer {
	margin: 0;
}
.modal .modal-body img {
	max-width: 100%;
	max-height: 100%;
	margin: auto;
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
}
.modal{background-color:black}
@media screen and (min-width: 768px) {
  .modal .modal-dialog {
    right: auto;
    left: auto;
	width: auto;
    max-width: 900px;
    padding-left: 5%;
    padding-right: 5%;
  }
}
.grid{max-width:1200px; margin: 0 auto; display: block}
/* fluid 5 columns */
.masonry-brick { width: 23%;margin-bottom: 5px; }
@media screen and (max-width: 768px) {.grid-sizer,
.masonry-brick { width: 49%; }}
.gutter-sizer{width:5px}
</style>

<header class="container-fluid" style="margin-bottom: 48px">
	<div class="text-article container">
		<p class='capital txt-red' style="text-shadow: none">{{contentDetailCtrl.content.fields.date*1000 | date:'longDate'}}</p>
		<div field = "{{contentDetailCtrl.getFieldByName('text')}}" >
			<h1 class="text-left" ng-if="!fieldEditMode" style="text-shadow: none">{{fieldEntity['text']}}</h1>
			<h1 ng-if="fieldEditMode"
			   ng-controller="RTEFieldController as rteFieldCtrl"
			   ckeditor="editorOptions"
			   contenteditable="true"
			   ready="setCKEIsReady()"
			   ng-model="fieldEntity['text']"
			   output-plain-text="true"
			   ng-bind-html="rteFieldCtrl.html">
			</h1>
		</div>
		<rubedo-field field = "{{contentDetailCtrl.getFieldByName('description')}}" ></rubedo-field>

	</div>
</header>




<div class="grid" masonry masonry-options="{ gutter: '.gutter-sizer',percentPosition: true }" reload-on-resize>
	<div class="masonry-brick" ng-repeat="image in contentDetailCtrl.content.images" data-toggle="modal" data-target="#rubedoGalleryDetailModal" ng-click="contentDetailCtrl.loadModal($index)" >
	    <img ng-src="{{rubedo.imageUrl.getUrlByMediaId(image.id,{width:'300px',mode:'boxed'})}}" class="img-responsive"/>
	</div>
	<div class="gutter-sizer"></div>
</div>

<!-- The modal dialog, which will be used to wrap the lightbox content -->
<div class="modal fade modal-lg" id="rubedoGalleryDetailModal">
    <div class="modal-dialog">
	<div class="modal-content">
	    <div class="modal-header">
		<button type="button" class="close" aria-hidden="true">&times;</button>
		<h4 class="modal-title"></h4>
	    </div>
	    <div class="modal-body"><img class="img-responsive" ng-src="{{rubedo.imageUrl.getUrlByMediaId(contentDetailCtrl.currentImage.id,{width:'1000px',mode:'boxed'})}}"
		     ng-attr-alt="{{contentDetailCtrl.currentImage.title}}" ng-attr-title="{{contentDetailCtrl.currentImage.title}}"></div>
	    <div class="modal-footer">
		<button type="button" class="btn btn-default pull-left prev">
		    <i class="glyphicon glyphicon-chevron-left"></i>
		    Previous
		</button>
		<button type="button" class="btn btn-primary next">
		    Next
		    <i class="glyphicon glyphicon-chevron-right"></i>
		</button>
	    </div>
	</div>
    </div>
</div>


