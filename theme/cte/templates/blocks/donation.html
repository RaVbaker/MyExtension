<div class="container">
        <ng-form name="inscription_form">
                <div class="text-center">
                        <p class="capital">{{rubedo.translate("Block.Dons.Soutien", "Je soutiens le projet")}}</p>
                        <h3>{{contentDetailCtrl.content.fields.text}}</h3>
                        <p>{{contentDetailCtrl.content.fields.subTitle}}</p>

                </div>
                
                <h2 class="capital txt-red" ng-class="{'displayed' : donsCtrl.currentStage==1}" ng-click="donsCtrl.setCurrentStage(1,infos_personnelles.$valid)">Mon don
                        <span class="fa fa-pencil pull-right cursor-as-pointer" ng-if="donsCtrl.currentStage>1"></span>
                </h2>
                <div id="inscriptionStage1" class="collapse in">
                        <ng-form name="infos_dons">
                                <div class="row" ng-if="contentDetailCtrl.content.taxonomy['56d319bcc445ec56018b9176'].length>1">
                                        <div class="col-sm-4 col-xs-12"><label for="nom" class="label_style">Condition de mon don *</label></div>
                                        <div class="col-sm-8">
                                                <div class="col-xs-12" ng-repeat="taxonomy in contentDetailCtrl.content.taxonomy['56d319bcc445ec56018b9176']" >
                                                        <input type="radio" required name="condition" id="{{'condition_'+$index}}"
                                                               ng-value=' "{{contentDetailCtrl.content.termLabels[taxonomy]}}"' ng-model="don.condition" >
                                                                <label for="{{'condition_'+$index}}">{{contentDetailCtrl.content.termLabels[taxonomy]}}</label>
                                        
                                                </div>
                                        </div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4 col-xs-12"><label for="nom" class="label_style">Montant du don *</label></div>
                                        <div class="col-sm-8">
                                                <input type="radio"  name="montant" id="montant1" value="20" ng-model="don.montant" required>
                                                        <label for="montant1" class="sexe_label dons">20€</label>	
                                                <input type="radio"  name="montant" id="montant2" value="50" ng-model="don.montant">
                                                            <label for="montant2" class="sexe_label dons">50€</label>
                                                <input type="radio"  name="montant" id="montant3" value="100" ng-model="don.montant">
                                                            <label for="montant3" class="sexe_label dons">100€</label>
                                                <input type="radio"  name="montant" id="montant4" value="200" ng-model="don.montant">
                                                            <label for="montant4" class="sexe_label dons">200€</label>
                                                <input type="radio"  name="montant" id="autre" value="autre" ng-model="don.montant">
                                                            <label for="autre" class="sexe_label dons">autre</label>
                                                <input type="text" class="montant-dons" ng-class="{'displayed':don.montant=='autre'}" ng-model="don.montant_autre" placeholder="Autre" ng-pattern="/^\d+$/">
                                        </div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4 col-xs-12"><label for="nom" class="label_style"></label></div>
                                        <div class="col-sm-8">
                                                <input type="checkbox"  name="mensuel" id="mensuel"  ng-model="don.mensuel">
                                                            <label for="mensuel">Rendre ce don mensuel</label>
                                        </div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4 col-xs-12"><label for="nom" class="label_style"></label></div>
                                        <div class="col-sm-8">
                                                <input type="checkbox"  name="trimestriel" id="trimestriel"  ng-model="don.trimestriel">
                                                            <label for="trimestriel">Rendre ce don trimestriel</label>
                                        </div>
                                </div>
                                <div class="row text-center">
                                    <div class="button submit" ng-class="{'disabled' : infos_dons.$invalid}" ng-click="donsCtrl.setCurrentStage(2,infos_dons.$valid)" >{{rubedo.translate("Blocks.Checkout.Button.Continue")}}</div>
                                    <p ng-if="infos_dons.$invalid && infos_dons.$dirty" class="txt-marron">Merci de bien remplir tous les champs obligatoires</p>
                                </div>
                        </ng-form>
                        
                        {{don}}
                </div>
                <h2 class="capital txt-red" ng-class="{'displayed' : donsCtrl.currentStage==2}" >Mon identité
                        <span class="fa fa-pencil pull-right cursor-as-pointer" ng-if="donsCtrl.currentStage>2" ng-click="donsCtrl.setCurrentStage(2,true)"></span>
                </h2>
                <div id="inscriptionStage2" class="collapse">
                        <ng-form name="infos_personnelles">
                                <div class="row">
                                        <div class="col-sm-4"><label for="nom" class="label_style">{{rubedo.translate("Block.Inscription.Nom")}}*</label></div>
                                        <div class="col-sm-8"><input type="text" id="nom" ng-model="don.user.name" name="name" required></div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4"><label for="email" class="label_style">{{rubedo.translate("Block.Inscription.Email")}}*</label></div>
                                        <div class="col-sm-8"><input type="email" id="email" name="email"  ng-model="don.user.email" placeholder="user@mydomain.com" required></div>
                                </div>
                                <!--<div class="row">
                                        <div class="col-sm-4"><label for="email" class="label_style">{{rubedo.translate("Blocks.SignUp.label.password")}}*</label></div>
                                        <div class="col-sm-8"><input type="password" id="password" name="password"  ng-model="don.user.password" required></div>
                                </div>                                        
                                <div class="row">
                                        <div class="col-sm-4"><label for="email" class="label_style">{{rubedo.translate("Blocks.SignUp.label.confirmPassword")}}*</label></div>
                                        <div class="col-sm-8"><input type="password" id="confirmPassword" name="confirmPassword"  ng-model="don.user.confirmPassword" required></div>
                                </div>           -->                              
                                <div class="row">
                                        <div class="col-sm-4"><label for="prenom" class="label_style">{{rubedo.translate("Block.Inscription.Prenom")}}*</label></div>
                                        <div class="col-sm-8"><input type="text" id="prenom" ng-model="don.user.surname" name="surname" required></div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4"><label for="dateNaiss" class="label_style">{{rubedo.translate("Block.Inscription.DateNaiss")}}*</label></div>
                                        <div class="col-sm-8">
                                            <div class="dropdown">
                                                <a showtab class="dropdown-toggle" id="dropdowndateNaiss" role="button" data-toggle="dropdown" data-target="#" href="#">
                                                    <div class="input-group"><input readonly id="dateNaiss" ng-model="don.birthdateF" type="text" class="form-control" required><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                                    </div>
                                                </a>
                                                <ul class="dropdown-menu" role="menu">
                                                    <datetimepicker data-ng-model="don.user.birthdate"  data-datetimepicker-config="{dropdownSelector: '#dropdowndateNaiss', startView: 'year', minView:'day'}" data-on-set-time="don.birthdateF = (don.user.birthdate |date:'dd/MM/yyyy'); moment.locale('fr')"/>
                                                </ul>
                                            </div>
                                        </div>
                                </div>    
                                <div class="row">
                                        <div class="col-sm-4"><label for="adresse" class="label_style">{{rubedo.translate("Block.Inscription.Adresse")}}*</label></div>
                                        <div class="col-sm-8"><textarea rows="3" id="adresse" ng-model="don.user.adresse" name="address" placeholder="" required></textarea></div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4"><label for="cp" class="label_style">{{rubedo.translate("Block.Inscription.CodePostal")}}</label></div>
                                        <div class="col-sm-8"><input type="text" id="cp" ng-model="don.user.cp" name="cp"></div>
                               </div>
                               <div class="row">
                                        <div class="col-sm-4"><label for="city" class="label_style">{{rubedo.translate("Block.Inscription.Ville")}}*</label></div>
                                        <div class="col-sm-8"><input type="text" id="city" ng-model="don.user.city" name="city" required></div>
                               </div>
                               <div class="row">
                                        <div class="col-sm-4"><label for="pays" class="label_style">{{rubedo.translate("Block.Inscription.Pays")}}</label></div>
                                        <div class="col-sm-8"><input type="text" id="pays" ng-model="don.user.country" name="country"></div>
                               </div>
               
                                
                                
                                <div class="row">
                                        <div class="col-sm-12 text-center" ng-if="!rubedo.current.user">
                                                <!--<div class="button submit"  ng-click="donsCtrl.setCurrentStage(3,infos_personnelles.$valid)" >{{rubedo.translate("Blocks.SignUp.label.signUp")}}</div>-->
                                                <div class="button submit"  ng-click="donsCtrl.setCurrentStage(3,infos_personnelles.$valid)" >{{rubedo.translate("Blocks.Checkout.Label.Continue")}}</div>
                                        </div>
                                        <div class="col-sm-12 text-center" ng-if="rubedo.current.user">
                                                <div class="button submit"  ng-click="donsCtrl.setCurrentStage(3,infos_personnelles.$valid)" >{{rubedo.translate("Blocks.Checkout.Label.Continue")}}</div>
                                        </div>                                                
                                        <div ng-if="donsCtrl.stage2Error" ng-init="notification = {type:'error',text:donsCtrl.stage2Error}">
                                            <rubedo-notification></rubedo-notification>
                                        </div>
                                </div>

                                
                                

                              
                                
                                
                                
                                
                        </ng-form>
                </div>
                <h2 class="capital txt-red" ng-class="{'displayed' : donsCtrl.currentStage==3}" >Mon paiement
                        <span class="fa fa-pencil pull-right cursor-as-pointer" ng-if="donsCtrl.currentStage>3" ng-click="donsCtrl.setCurrentStage(3,true)"></span>
                </h2>
                <div id="inscriptionStage3" class="collapse">
                        <ng-form name="paiement">
                                
                                <!--Récapitulatif-->
                                <div class="row">
                                        <div class="col-xs-12 text-center">
                                                <p>{{rubedo.translate("Block.Dons.Recap","Je fais un don de")}} {{don.montant}}€ <span ng-if="don.mensuel">/ mois</span><span ng-if="don.trimestriel">/ trimestre</span></p>
                                        </div>
                                </div>
                                <div class="row">
                                        <div class="col-sm-4 col-xs-12">
                                                <label for="message" class="label_style left" >Je souhaite joindre un message à mon don : </label>
                                        </div>
                                        <div class="col-sm-8">
                                                <textarea rows="2" ng-model="don.message" name="message" placeholder="Message..."></textarea>
                                        </div>
                                </div>
                        </ng-form>
                </div>                        
        </ng-form>
        
        
</div>