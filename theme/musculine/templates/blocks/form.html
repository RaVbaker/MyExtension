<div ng-controller="FormController as formCtrl">

       <form name="form" method="post"  novalidate >
	      <div class="row" ng-class="{'checked':formCtrl.small_trad>0}">
		     <div class="inputs">
			     <input id="st" type="number" min="0" name="small_trad" ng-model="formCtrl.small_trad">
		     </div>
		     <div class="prix">
			    <p>{{formCtrl.small_trad * formCtrl.stprice | number : 2}}</p>
		     </div>
		     <div class="titles">
			    <p>Musculine 250g traditionnelle</p>
		     </div>
	      </div>
	      <div class="row" ng-class="{'checked':formCtrl.small_or>0}">
		     <div class="inputs">
			     <input id="so" type="number" min="0" name="small_or" ng-model="formCtrl.small_or">		     
		     </div>
		     <div class="prix">
			    <p>{{formCtrl.small_or * formCtrl.soprice | number : 2}}</p>
		     </div>
		     <div class="titles">
			    <p>Musculine 250g arôme naturel orange</p>
		     </div>
	      </div>
	      <div class="row" ng-class="{'checked':formCtrl.big_trad>0}">
		     <div class="inputs">
			     <input id="bt" type="number" min="0" name="big_trad" ng-model="formCtrl.big_trad">		     
		     </div>
		     <div class="prix">
			    <p>{{formCtrl.big_trad * formCtrl.btprice | number : 2}}</p>
		     </div>
		     <div class="titles">
			    <p>Musculine 700g traditionnelle</p>
		     </div>
	      </div>
	      <div class="row" ng-class="{'checked':formCtrl.big_or>0}">
		     <div class="inputs">
			    <input id="bo" type="number" min="0" name="big_or" ng-model="formCtrl.big_or">
		     </div>
		     <div class="prix">
			    <p>{{formCtrl.big_or * formCtrl.boprice | number : 2}}</p>
		     </div>
		     <div class="titles">
			    <p>Musculine 700g arôme naturel orange</p>
		     </div>
	      </div>
	      <div class="row border-bottom checked">
		     <div class="prix">
			    <p>{{formCtrl.fraisExp()}}</p>
		     </div>
		     <div class="titles">
			    <p>Frais d'expédition</p>
		     </div>
	      </div>
	      <div class="row checked part-end">
		     <div class="prix">
			    <p><b>€ {{formCtrl.totalPrice()}}</b></p>
		     </div>
		     
	      </div>
	      
	      <div class="row">
		     <h3 class="capital">
			    Adresse de facturation
		     </h3>
		     <div class="infos">
			    <div>
				   <label for="name">Nom*</label>
				   <input type="text" name="name" ng-model="formCtrl.name" required>			    
			    </div>
			    <div>
				   <label for="surname">Prénom*</label>
				   <input type="text" name="surname" ng-model="formCtrl.surname" required>
			    </div>
			    <div>
				   <label for="address">Adresse*</label>
				   <input type="text" name="address" ng-model="formCtrl.address" required>			    
			    </div>
			    <div>
				   <label for="city">Ville*</label>
				   <input type="text" name="city" ng-model="formCtrl.city" required>			    
			    </div>
			    <div>
				   <label for="cp">Code postal*</label>
				   <input type="text" name="cp" ng-model="formCtrl.cp" required>			    
			    </div>
			    <div>
				   <label for="telephone">Téléphone</label>
				   <input type="text" name="telephone" ng-model="formCtrl.telephone" ng-pattern="/^\+?[0-9 ]+$/">			    
			    </div>
			    <div>
				   <label for="email">Email*</label>
				   <input type="email" name="email" ng-model="formCtrl.email" required>			    
			    </div>
		     </div>
		     
	      </div>
       
	      <div class="row">
		     <h3 class="capital">
			    Adresse d'expédition
		     </h3>
		     <div class="infos">
			    <div class="copy_adress">
				   <label for="copy_adress">Même adresse</label>
				   <input type="checkbox" id="copy_adress" ng-change="formCtrl.copy_address()" ng-model="formCtrl.copy_adress">
			    </div>
			    <div>
				   <label for="name2">Nom*</label>
				   <input type="text" name="name2" ng-model="formCtrl.name2" required>			    
			    </div>
			    <div>
				   <label for="surname2">Prénom*</label>
				   <input type="text" name="surname2" ng-model="formCtrl.surname2" required>
			    </div>
			    <div>
				   <label for="address2">Adresse*</label>
				   <input type="text" name="address2" ng-model="formCtrl.address2" required>			    
			    </div>
			    <div>
				   <label for="city2">Ville*</label>
				   <input type="text" name="city2" ng-model="formCtrl.city2" required>			    
			    </div>
			    <div>
				   <label for="cp2">Code postal*</label>
				   <input type="text" name="cp2" ng-model="formCtrl.cp2" required>			    
			    </div>
			    <div>
				   <label for="telephone2">Téléphone</label>
				   <input type="text" name="telephone2" ng-model="formCtrl.telephone2" ng-pattern="/^\+?[0-9 ]+$/">			    
			    </div>
			    <div>
				   <label for="email2">Email*</label>
				   <input type="email" name="email2" ng-model="formCtrl.email2" required>			    
			    </div>
		     </div>
		     
	      </div>
	      <div class="row text-center">
		     <div class="commande-titre">
			    <h1>Récapitulatif</h1>
       
		     </div>
	      </div>
	      <div class="row text-center">
			    <p><b>€ {{formCtrl.totalPrice()}}<!--{{formCtrl.small_trad*formCtrl.stprice + formCtrl.small_or*formCtrl.soprice + formCtrl.big_trad*formCtrl.btprice + formCtrl.big_or*formCtrl.boprice + formCtrl.exp}}--></b></p>
			    <p ng-if="formCtrl.small_trad>0">{{formCtrl.small_trad}} X Musculine 250g traditionnelle</p>
			    <p ng-if="formCtrl.small_or>0">{{formCtrl.small_or}} X Musculine 250g arôme naturel orange</p>
			    <p ng-if="formCtrl.big_trad>0">{{formCtrl.big_trad}} X Musculine 700g traditionnelle</p>
			    <p ng-if="formCtrl.big_or>0">{{formCtrl.big_or}} X Musculine 700g arôme naturel orange</p>
	      </div>
	      <div class="payment" ng-click="formCtrl.getParameters()">
		     <p>Valider ma commande</p>
	      </div>
       </form>
       <form ng-style="{  'display' : formCtrl.displaySubmit }"  id="payboxPaiement" method="POST" action="https://preprod-tpeweb.paybox.com/cgi/MYchoix_pagepaiement.cgi">
		<!--<input type="hidden" name="PBX_TYPEPAIEMENT" value="{{parametres.typePaiement}}">
		<input type="hidden" name="PBX_TYPECARTE" value ="{{parametres.typeCarte}}">-->
		<input type="hidden" name="PBX_SITE" value ="{{parametres.payboxSite}}">
		<input type="hidden" name="PBX_RANG" value ="{{parametres.payboxRang}}">
		<input type="hidden" name="PBX_IDENTIFIANT" value ="{{parametres.payboxIdentifiant}}">
		<input type="hidden" name="PBX_TOTAL" value ="{{parametres['montantEnCentimes']}}">
		<input type="hidden" name="PBX_DEVISE" value ="{{parametres['codeMonnaieNumerique']}}">
		<input type="hidden" name="PBX_CMD" value ="{{parametres['commande']}}">
		<input type="hidden" name="PBX_PORTEUR" value ="{{parametres['email']}}">
		<input type="hidden" name="PBX_RETOUR" value ="{{parametres['payboxRetour']}}">
		<input type="hidden" name="PBX_HASH" value="SHA512">
		<input type="hidden" name="PBX_TIME" value ="{{parametres['dateTime']}}">
		
		<input type="hidden" name="PBX_EFFECTUE" value ="{{parametres['urlRetourNormal']}}">
		<input type="hidden" name="PBX_REFUSE" value ="{{parametres['urlRetourEchec']}}">
		<input type="hidden" name="PBX_ANNULE" value ="{{parametres['urlRetourEchec']}}">
		
		<input type="hidden" name="PBX_REPONDRE_A" value ="{{parametres['urlCallback']}}">
		
		<input type="hidden" name="PBX_HMAC" value ="{{parametres['empeinteHasheeHex']}}">
	
		<input type="submit" class="payment" alt="Paiement sécurisé par Paybox" value="Payer ma commande">
	      
       </form>
</div>